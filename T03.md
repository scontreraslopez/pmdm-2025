# T03-Android Studio: Primeros pasos

## 칈ndice
- [Introducci칩n](#introducci칩n)
- [Descarga e instalaci칩n](#descarga-e-instalaci칩n)
- [Diferencias entre interfaces imperativa y declarativa](#diferencias-entre-interfaces-imperativa-y-declarativa)
    - [Enfoque Imperativo](#enfoque-imperativo)
    - [Enfoque Declarativo](#enfoque-declarativo)
    - [Comparaci칩n](#comparaci칩n)
    - [Resumen](#resumen)
- [Android Studio: Crea y ejecuta tu primera app para Android](#android-studio-crea-y-ejecuta-tu-primera-app-para-android)
- [Depurar apps en dispositivo f칤sico](#depurar-apps-en-dispositivo-f칤sico)
    - [Ejercicio 1](#ejercicio-1)
- [Instalar Compose Helper](#instalar-compose-helper)
    - [Ejercicio 2](#ejercicio-2)
    - [Ejercicio 3](#ejercicio-3)
    - [Ejercicio 4](#ejercicio-4)
    - [Ejercicio 5](#ejercicio-5)

## Introducci칩n

Para el desarrollo nativo de aplicaciones en Android tenemos un IDE espec칤fico para tal tarea. Es gratuito y est치 basado en IntelliJ. Tenemos versi칩n de instalaci칩n para macOS, Windows y Linux. Se trata de **Android Studio**. 游뱄

Vamos a seguir una serie de tutoriales de Google para introducirnos en Android Studio:
[https://developer.android.com/courses/pathways/android-basics-compose-unit-1-pathway-2](https://developer.android.com/courses/pathways/android-basics-compose-unit-1-pathway-2)

## Descarga e instalaci칩n

No hay complicaciones para la instalaci칩n. S칤 que es necesario tener una m치quina relativamente potente, pues la emulaci칩n de un dispositivo Android no es balad칤. Se recomienda tener al menos 8Gb de RAM y un disco SSD.

Las versiones m치s recientes de Android Studio ya incluyen un JDK (Java Development Kit). Si por alguna raz칩n no lo detecta, el propio instalador te guiar치 para descargar e instalar una versi칩n compatible, por lo que no es necesaria una instalaci칩n previa.

Para completar este paso puedes apoyarte en el siguiente codeLab de Google:
[https://developer.android.com/codelabs/basic-android-kotlin-compose-install-android-studio?hl=es-419\#0](https://www.google.com/search?q=https://developer.android.com/codelabs/basic-android-kotlin-compose-install-android-studio%3Fhl%3Des-419%230)

**Nota:**
Siempre hay que tener en cuenta que la versi칩n de los manuales en castellano puede estar desactualizada y puede ser conveniente seguir a la versi칩n en ingl칠s.

## Diferencias entre interfaces imperativa y declarativa

En el dise침o de interfaces de usuario y de programaci칩n, los enfoques declarativo e imperativo son dos paradigmas que definen c칩mo se describe el comportamiento y la l칩gica en el desarrollo de software y definici칩n de la interface de usuario.

![Comparativa Imperativo vs Declarativo](img/T03/imperativo_declarativo_140040.png)

### Enfoque Imperativo

En el dise침o imperativo, el desarrollador define expl칤citamente **c칩mo** se debe hacer algo, es decir, el paso a paso para lograr un resultado. Se trata de una secuencia de instrucciones que el sistema sigue de manera estricta para cambiar su estado y cumplir con la funcionalidad deseada.

```kotlin
// IMPERATIVE (How)
fun sum(arr: Array<Int>) {
    var result = 0
    for (i in 0 until arr.size) {
        result += arr[i]
    }
    return result
}
```

### Enfoque Declarativo

En el dise침o declarativo, el desarrollador se enfoca en **qu칠** se quiere lograr, dejando que el sistema subyacente se encargue de los detalles sobre c칩mo hacerlo. No se proporciona una secuencia de pasos detallados, sino una descripci칩n del resultado final deseado.

```kotlin
// DECLARATIVE (What)
fun sum(arr: Array<Int>): Int {
    return arr.reduce { acc, item ->
        acc + item
    }
}
```

### Comparaci칩n

| Aspecto | Imperativo | Declarativo |
| :--- | :--- | :--- |
| **Enfoque** | C칩mo hacer algo (paso a paso) | Qu칠 hacer o cu치l es el estado deseado |
| **Control** | Detallado sobre el flujo y el estado | Se delega al sistema o framework |
| **Uso de estado**| El programador maneja directamente el estado | El sistema maneja el estado autom치ticamente |
| **Facilidad de mantenimiento**| Puede ser m치s dif칤cil de mantener | Suele ser m치s sencillo y conciso |
| **Ejemplo de UI**| Swing, AWT | Jetpack Compose, React |

### Resumen

  * **Imperativo:** el programador dicta exactamente c칩mo se deben ejecutar los pasos.
  * **Declarativo:** el programador describe el resultado, dejando que el sistema lo gestione.

El enfoque declarativo es cada vez m치s popular en lenguajes modernos por su simplicidad y capacidad de reducir el c칩digo repetitivo.

-----

## Android Studio: Crea y ejecuta tu primera app para Android

Vamos a crear nuestra primera app y c칩mo podemos lanzarla en un emulador o en nuestro m칩vil real (si es Android).

Llama al proyecto **Ejercicio1** y en el nombre del paquete indica "net.iesochoa" + "tu nombre".

[placeholder $imagen.dialogo\_new\_project\_android\_studio]

Sigue el Codelab: [https://developer.android.com/codelabs/basic-android-kotlin-compose-first-app](https://developer.android.com/codelabs/basic-android-kotlin-compose-first-app)

[placeholder $imagen.preview\_default\_app\_android\_studio]

Ten en cuenta que la plantilla en la versi칩n actual es diferente a la del manual.

[placeholder $imagen.codigo\_diferentes\_plantillas\_MainActivity]

## Depurar apps en dispositivo f칤sico

Si no ten칠is un ordenador muy potente, el emulador de Android es una de las partes que m치s recursos consumen. Una opci칩n m치s ligera puede ser ejecutar la app en nuestro tel칠fono m칩vil.

Tenemos el siguiente codeLab que nos explica c칩mo hacerlo mediante cable USB:
[https://developer.android.com/codelabs/basic-android-kotlin-compose-connect-device?hl=es-419\#0](https://www.google.com/search?q=https://developer.android.com/codelabs/basic-android-kotlin-compose-connect-device%3Fhl%3Des-419%230)

...pero las 칰ltimas versiones de Android Studio nos permiten hacerlo v칤a Wifi:
[https://developer.android.com/codelabs/basic-android-kotlin-compose-connect-device](https://developer.android.com/codelabs/basic-android-kotlin-compose-connect-device)

[placeholder $imagen.android\_studio\_device\_manager]

**Nota:** Es posible que los codeLabs no trabajen con las 칰ltimas versiones de Android Studio. En la documentaci칩n oficial encontraremos los detalles de las 칰ltimas versiones: [https://developer.android.com/studio/run](https://developer.android.com/studio/run)

-----

### Ejercicio 1

Ejecuta tu primera app en un emulador o dispositivo f칤sico siguiendo el codeLab. Llama a tu proyecto "Ejercicio1".

  * Haz una captura de pantalla del emulador con la app arrancada.
  * Intenta ejecutarlo en tu dispositivo f칤sico por USB o Wifi como pr치ctica opcional.

-----

## Instalar Compose Helper

Como has visto o ver치s en los codeLabs, Android Studio te facilita envolver los widgets con otros contenedores, pero tenemos un plugin que nos permite m치s facilidades para hacerlo. Este es **Compose Helper**. Si vas a `File > Settings... > Plugins` y lo instalas, te permitir치 agregar y borrar contenedores f치cilmente.

[placeholder $imagen.instalacion\_plugin\_compose\_helper]

[placeholder $imagen.menu\_contextual\_compose\_helper]

-----

### Ejercicio 2

Sigue el codelab, pero cambia el texto para que aparezca tu nombre y el de Mar칤a. Puedes ajustar los par치metros de tama침o para que quepa en la pantalla. Llama al proyecto **Ejercicio2**.

[https://developer.android.com/codelabs/basic-android-kotlin-compose-text-composables](https://developer.android.com/codelabs/basic-android-kotlin-compose-text-composables)

[placeholder $imagen.ejercicio2\_resultado\_sin\_fondo]

Ten en cuenta que la plantilla de creaci칩n es diferente. En el 칰ltimo paso le pasamos el `padding` de `Scaffold`.

```kotlin
Ejercicio2Theme {
    Scaffold(modifier = Modifier.fillMaxSize()) { innerPadding ->
        GreetingText(
            mensaje = "Feliz Cumplea침os Maria",
            from = "De Jose",
            modifier = Modifier.padding(innerPadding)
        )
    }
}
```

-----

### Ejercicio 3

A partir del ejercicio 2, contin칰a con el codelab para a침adir una imagen de fondo.

[https://developer.android.com/codelabs/basic-android-kotlin-compose-add-images](https://developer.android.com/codelabs/basic-android-kotlin-compose-add-images)

[placeholder $imagen.ejercicio3\_resultado\_con\_fondo]

En este codelab nos habla de `Modifier` y contenedores (`Column`, `Row`, `Box`). Lee los siguientes art칤culos como parte del ejercicio:

  * [Android Layouts en Jetpack Compose](https://www.develou.com/android-layouts-en-jetpack-compose/)
  * [Compose Modificadores de apariencia](https://www.develou.com/compose-modificadores-de-apariencia/)

Es interesante descargar el proyecto con los ejemplos y realizar pruebas:
[https://github.com/jamesreve/android-jetpack-compose.git](https://github.com/jamesreve/android-jetpack-compose.git)

-----

### Ejercicio 4

Crea un nuevo proyecto llamado **Ejercicio4** y crea tres ficheros kotlin con las funciones composable que definan los ejercicios del siguiente Codelab. Intenta realizar la tarea sin consultar la soluci칩n.

[https://developer.android.com/codelabs/basic-android-kotlin-compose-composables-practice-problems](https://developer.android.com/codelabs/basic-android-kotlin-compose-composables-practice-problems)

Puedes crear un nuevo fichero con el bot칩n derecho sobre el paquete.

[placeholder $imagen.crear\_nuevo\_fichero\_kotlin]

Como se ha visto en los CodeLabs, estas funciones deben ser parametrizadas para poder ser reutilizadas. Por ejemplo, la firma del m칠todo para el primer ejercicio podr칤a ser:

```kotlin
@Composable
fun ArticuloCompose (
    imagen: Painter,
    titulo: String,
    descripcionCorta: String,
    descripcionLarga: String,
    modifier: Modifier = Modifier
)
```

-----

### Ejercicio 5

Crea una pantalla que muestre una tarjeta como la propuesta en el codelab:
[https://developer.android.com/codelabs/basic-android-kotlin-compose-business-card](https://developer.android.com/codelabs/basic-android-kotlin-compose-business-card)

[placeholder $imagen.layout\_tarjeta\_de\_visita\_con\_anotaciones]

Para conseguir que la imagen se muestre circular puedes usar `clip` de `Modifier`:
[https://developer.android.com/develop/ui/compose/graphics/images/customize?hl=es-419\#clip-image-shape](https://www.google.com/search?q=https://developer.android.com/develop/ui/compose/graphics/images/customize%3Fhl%3Des-419%23clip-image-shape)

```kotlin
Image(
    painter = foto,
    contentDescription = null,
    contentScale = ContentScale.Crop,
    modifier = Modifier
        .size(150.dp) // Ajusta el tama침o seg칰n tus necesidades
        .clip(CircleShape)
)
```

Para los iconos de contacto, pod칠is utilizar `Icon`:

```kotlin
Icon(
    imageVector = Icons.Default.Phone, //icono seleccionado
    contentDescription = "tel칠fono",
    modifier = Modifier.size(24.dp),
    tint = MaterialTheme.colorScheme.primary
)
```

Es aconsejable crear 3 funciones:

1.  Crear la funci칩n principal de la pantalla con todos los par치metros.
2.  Crear una funci칩n con la parte superior: Foto, nombre, trabajo.
3.  Crear una funci칩n con los datos de contacto.